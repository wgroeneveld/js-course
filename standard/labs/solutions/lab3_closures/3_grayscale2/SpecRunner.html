<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Jasmine Spec Runner</title>

  <link rel="shortcut icon" type="image/png" href="./../../lib/jasmine-1.3.1/jasmine_favicon.png">
  <link rel="stylesheet" type="text/css" href="./../../lib/jasmine-1.3.1/jasmine.css">
  <link rel="stylesheet" type="text/css" href="./../../lib/oefeningen.css">  
  <script type="text/javascript" src="./../../lib/jasmine-1.3.1/jasmine.js"></script>
  <script type="text/javascript" src="./../../lib/jasmine-1.3.1/jasmine-html.js"></script>

  <!-- include source files here... -->
  <script type="text/javascript" src="grayscale.js"></script>

  <!-- include spec files here... -->
  <script type="text/javascript" src="grayscaleSpec.js"></script>

  <script type="text/javascript">
    (function() {
      var jasmineEnv = jasmine.getEnv();
      jasmineEnv.updateInterval = 1000;

      var htmlReporter = new jasmine.HtmlReporter();

      jasmineEnv.addReporter(htmlReporter);

      jasmineEnv.specFilter = function(spec) {
        return htmlReporter.specFilter(spec);
      };

      var currentWindowOnload = window.onload;

      window.onload = function() {
        if (currentWindowOnload) {
          currentWindowOnload();
        }
        execJasmine();
      };

      function execJasmine() {
        jasmineEnv.execute();
      }

    })();
  </script>

</head>

<body>
  <h2 class="onderwerp">
  Lab 3: Grayscale exercice revisited
</h2>

<div class="beschrijving">
<p>
<span class="opgelet">FIRST THINGS FIRST: Write unit tests yourself with Jasmine!</span> You can base the tests on the examples below.
</p>


<P>
Remember the first <a href="./../../lab2_prototype/1_grayscale1/test.html">grayscale lab</a>?<br>
We'll expand it a little bit more by implementing the following:
</P>

<P>
An "image" (= a onedimensional array of RGBA values) has to be converted from array into an image, <i>and</i> vice versa. <br>
The image can also be converted into grayscales. The result is a new image object with grayscale values of the input (side-effect free).
</P>
This is the updated public interface (see previous lab):
<pre class="code">

var pixels = {
    create: function(red, green, blue, alpha) {
      // returns a new pixel
  },

  createImage: function(rgbValuesArray) {
    // returns a new image
  },

  toImage: function(pixelsArray) {
    // returns a new image object
  }

};

var pixel = {
  toGrayscale: function() {
    // returns a new pixel object with grayscale values
  }
}

var image = {
  toPixels: function() {
    // returns an array of pixels
  },

  toGrayscale: function() {
    // returns a new image with grayscale values
  }
}

</pre>

I should be able to do this:

<pre class="code">
var pixel1 = pixels.create(10, 20, 30, 5);
var pixel2 = pixels.create(100, 255, 0, 1);

var imageData = [ 10, 20, 30, 5, 100, 255, 0, 1 ];
var someImage = pixels.createImage(imageData);
someImage.values === imageData;

var newImage = pixels.toImage( [ pixel1, pixel2 ] );
newImage.values === imageData;

newImage.toPixels() === [ pixel1, pixel2 ];

newImage.toGrayscale() === pixels.toImage( [ pixel1.toGrayscale(), pixel2.toGrayscale() ] );
</pre>

<p>
<span class="opgelet">Don't forget to FIRST write unit tests!</span> Base yourself upon the given examples.
</p>

<p>
This may help: <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array" target="_blank">Mozilla dev: Array</a>.
</p>

</div>
<hr class="sep"/>
</body>
</html>
